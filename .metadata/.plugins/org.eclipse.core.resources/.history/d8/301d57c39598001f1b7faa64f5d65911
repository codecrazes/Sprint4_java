package br.com.fiap.model;

import java.time.LocalDate;

public class Carro extends Modelo {

    private String ano;
    private String fabricante;
    private String placa;
   

    public Carro() {
        super();
    }

    public Carro(int idModelo, String nome, String ano, String fabricante,
                 String placa, LocalDate ultimaRevisao, int intervaloRevisao) {
        super(idModelo, nome, placa);
        this.ano = ano;
        this.fabricante = fabricante;
        this.placa = placa;
       
    }

    @Override
    public String toString() {
        return "\nId Modelo: " + getIdModelo() +
               " \nNome: " + getNome() +
               " \nAno: " + ano +
               " \nFabricante: " + fabricante +
               " \nPlaca: " + placa;
    }

    public String getAno() {
        return ano;
    }

    public void setAno(String ano) {
        this.ano = ano;
    }

    public String getFabricante() {
        return fabricante;
    }

    public void setFabricante(String fabricante) {
        this.fabricante = fabricante;
    }

    public String getPlaca() {
        return placa;
    }

    public void setPlaca(String placa) {
    	 if (this.validarPlaca(placa)) {
    		 this.placa = placa;
         } else {
        	 throw new IllegalArgumentException("A placa informada é inválida" + placa);
         }
       
    }

    

    // Método para validar o formato da placa
    public boolean validarPlaca(String placa) {
        String regexAntiga = "^[A-Z]{3}-\\d{4}$"; // Formato antigo: ABC-1234
        String regexMercosul = "^[A-Z]{3}\\d[A-Z]\\d{2}$"; // Formato Mercosul: ABC1D23
        return placa.matches(regexAntiga) || placa.matches(regexMercosul);
    }

    @Override
    public String identificar() {
        return "\n\nINFORMAÇÕES DO VEÍCULO";
    }
}
